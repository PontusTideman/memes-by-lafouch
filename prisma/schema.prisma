generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model Video {
  id          Int     @id @default(autoincrement())
  videoUtKey  String  @unique
  posterUtKey String? @unique
  src         String  @unique
  poster      String?
  meme        Meme?
}

model Meme {
  id            String   @id @default(cuid())
  title         String
  video         Video    @relation(fields: [videoId], references: [id], onDelete: Cascade)
  videoId       Int      @unique
  downloadCount Int      @default(0)
  tweetUrl      String?  @unique
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}
